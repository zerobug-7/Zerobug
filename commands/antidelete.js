const _0x371783=_0x3d9c;(function(_0xbbd482,_0x27cadc){const _0x3e718e=_0x3d9c,_0x8ae9f0=_0xbbd482();while(!![]){try{const _0x306d92=parseInt(_0x3e718e(0x1c3))/0x1*(parseInt(_0x3e718e(0x1d3))/0x2)+parseInt(_0x3e718e(0x1d8))/0x3*(-parseInt(_0x3e718e(0x1d6))/0x4)+parseInt(_0x3e718e(0x20b))/0x5+-parseInt(_0x3e718e(0x1f4))/0x6+-parseInt(_0x3e718e(0x1e3))/0x7+-parseInt(_0x3e718e(0x1cc))/0x8+parseInt(_0x3e718e(0x1cf))/0x9;if(_0x306d92===_0x27cadc)break;else _0x8ae9f0['push'](_0x8ae9f0['shift']());}catch(_0x309242){_0x8ae9f0['push'](_0x8ae9f0['shift']());}}}(_0xbe0f,0xc11f8));const fs=require('fs'),path=require(_0x371783(0x1e7)),{tmpdir}=require('os'),{downloadContentFromMessage}=require(_0x371783(0x1ca)),{writeFile}=require(_0x371783(0x1e9)),messageStore=new Map(),CONFIG_PATH=path[_0x371783(0x201)](__dirname,_0x371783(0x1db)),TEMP_MEDIA_DIR=path[_0x371783(0x201)](__dirname,_0x371783(0x1bc));!fs[_0x371783(0x1e5)](TEMP_MEDIA_DIR)&&fs['mkdirSync'](TEMP_MEDIA_DIR,{'recursive':!![]});const getFolderSizeInMB=_0x5ada7c=>{const _0x5e35e7=_0x371783;try{const _0x4d14fe=fs[_0x5e35e7(0x1e0)](_0x5ada7c);let _0x118d12=0x0;for(const _0x344c7b of _0x4d14fe){const _0x2ffec8=path['join'](_0x5ada7c,_0x344c7b);fs[_0x5e35e7(0x1ea)](_0x2ffec8)[_0x5e35e7(0x20f)]()&&(_0x118d12+=fs[_0x5e35e7(0x1ea)](_0x2ffec8)[_0x5e35e7(0x203)]);}return _0x118d12/(0x400*0x400);}catch(_0x233a96){return console[_0x5e35e7(0x1d7)](_0x5e35e7(0x1e2),_0x233a96),0x0;}},cleanTempFolderIfLarge=()=>{const _0x1f18e9=_0x371783;try{const _0x4e3a79=getFolderSizeInMB(TEMP_MEDIA_DIR);if(_0x4e3a79>0xc8){const _0x50949a=fs[_0x1f18e9(0x1e0)](TEMP_MEDIA_DIR);for(const _0x1a8599 of _0x50949a){const _0x49857a=path[_0x1f18e9(0x201)](TEMP_MEDIA_DIR,_0x1a8599);fs['unlinkSync'](_0x49857a);}}}catch(_0x585cec){console[_0x1f18e9(0x1d7)]('Temp\x20cleanup\x20error:',_0x585cec);}};setInterval(cleanTempFolderIfLarge,0x3c*0x3e8);function loadAntideleteConfig(){const _0x5c0eba=_0x371783;try{if(!fs[_0x5c0eba(0x1e5)](CONFIG_PATH))return{'enabled':![]};return JSON[_0x5c0eba(0x1f6)](fs[_0x5c0eba(0x1c4)](CONFIG_PATH));}catch{return{'enabled':![]};}}function _0x3d9c(_0x368a52,_0x3f7efd){const _0xbe0fea=_0xbe0f();return _0x3d9c=function(_0x3d9c2e,_0xc97da9){_0x3d9c2e=_0x3d9c2e-0x1bb;let _0x527767=_0xbe0fea[_0x3d9c2e];return _0x527767;},_0x3d9c(_0x368a52,_0x3f7efd);}function saveAntideleteConfig(_0x5efd63){const _0x18241a=_0x371783;try{fs['writeFileSync'](CONFIG_PATH,JSON[_0x18241a(0x1f0)](_0x5efd63,null,0x2));}catch(_0x19c02c){console[_0x18241a(0x1d7)](_0x18241a(0x1c8),_0x19c02c);}}async function handleAntideleteCommand(_0x3168ff,_0x82f44d,_0x1bbf40,_0x16979c){const _0x3dd788=_0x371783;if(!_0x1bbf40[_0x3dd788(0x1f8)][_0x3dd788(0x1e6)])return _0x3168ff['sendMessage'](_0x82f44d,{'text':_0x3dd788(0x1cd)},{'quoted':_0x1bbf40});const _0x14f45e=loadAntideleteConfig();if(!_0x16979c)return _0x3168ff[_0x3dd788(0x1c0)](_0x82f44d,{'text':_0x3dd788(0x20a)+(_0x14f45e[_0x3dd788(0x1ec)]?'‚úÖ\x20*·•±·•í·•≤·ë≤·•£·•±·É´*':_0x3dd788(0x1ce))+'\x0a\x0a*.·•≤·•íùóç—ñ·É´·•±·•£·•±ùóç·•±\x20·•Ü·•í*\x20-\x20·•±·•í·•≤·ë≤·•£·•±\x0a*.·•≤·•íùóç—ñ·É´·•±·•£·•±ùóç·•±\x20·•Üùñøùñø\x20-\x20·É´—ñs·•≤·ë≤·•£·•±*'},{'quoted':_0x1bbf40});if(_0x16979c==='on')_0x14f45e[_0x3dd788(0x1ec)]=!![];else{if(_0x16979c===_0x3dd788(0x1c9))_0x14f45e[_0x3dd788(0x1ec)]=![];else return _0x3168ff[_0x3dd788(0x1c0)](_0x82f44d,{'text':_0x3dd788(0x1ef)},{'quoted':_0x1bbf40});}return saveAntideleteConfig(_0x14f45e),_0x3168ff[_0x3dd788(0x1c0)](_0x82f44d,{'text':_0x3dd788(0x1f2)+(_0x16979c==='on'?'enabled':_0x3dd788(0x1f1))+'*'},{'quoted':_0x1bbf40});}async function storeMessage(_0x53a815,_0x4110cd){const _0x220c2f=_0x371783;try{const _0x54619d=loadAntideleteConfig();if(!_0x54619d['enabled'])return;if(!_0x4110cd[_0x220c2f(0x1f8)]?.['id'])return;const _0x25b9d8=_0x4110cd['key']['id'];let _0x2b0015='',_0x5c1f59='',_0x2137d9='',_0x325c8d=![];const _0x235fbd=_0x4110cd[_0x220c2f(0x1f8)][_0x220c2f(0x1c1)]||_0x4110cd[_0x220c2f(0x1f8)][_0x220c2f(0x1eb)],_0x1e6cfb=_0x4110cd[_0x220c2f(0x1fb)]?.[_0x220c2f(0x1d4)]?.[_0x220c2f(0x1fb)]||_0x4110cd[_0x220c2f(0x1fb)]?.[_0x220c2f(0x1fd)]?.[_0x220c2f(0x1fb)];if(_0x1e6cfb){if(_0x1e6cfb[_0x220c2f(0x1f5)]){_0x5c1f59=_0x220c2f(0x1e1),_0x2b0015=_0x1e6cfb[_0x220c2f(0x1f5)][_0x220c2f(0x1d5)]||'';const _0x21a24d=await downloadContentFromMessage(_0x1e6cfb[_0x220c2f(0x1f5)],_0x220c2f(0x1e1));_0x2137d9=path[_0x220c2f(0x201)](TEMP_MEDIA_DIR,_0x25b9d8+_0x220c2f(0x206)),await writeFile(_0x2137d9,_0x21a24d),_0x325c8d=!![];}else{if(_0x1e6cfb[_0x220c2f(0x1ee)]){_0x5c1f59='video',_0x2b0015=_0x1e6cfb[_0x220c2f(0x1ee)][_0x220c2f(0x1d5)]||'';const _0x2f2035=await downloadContentFromMessage(_0x1e6cfb[_0x220c2f(0x1ee)],_0x220c2f(0x1ed));_0x2137d9=path[_0x220c2f(0x201)](TEMP_MEDIA_DIR,_0x25b9d8+_0x220c2f(0x1d9)),await writeFile(_0x2137d9,_0x2f2035),_0x325c8d=!![];}}}else{if(_0x4110cd[_0x220c2f(0x1fb)]?.[_0x220c2f(0x1fa)])_0x2b0015=_0x4110cd[_0x220c2f(0x1fb)][_0x220c2f(0x1fa)];else{if(_0x4110cd[_0x220c2f(0x1fb)]?.[_0x220c2f(0x204)]?.[_0x220c2f(0x212)])_0x2b0015=_0x4110cd['message']['extendedTextMessage'][_0x220c2f(0x212)];else{if(_0x4110cd['message']?.['imageMessage']){_0x5c1f59=_0x220c2f(0x1e1),_0x2b0015=_0x4110cd[_0x220c2f(0x1fb)]['imageMessage']['caption']||'';const _0x77e9aa=await downloadContentFromMessage(_0x4110cd[_0x220c2f(0x1fb)][_0x220c2f(0x1f5)],'image');_0x2137d9=path['join'](TEMP_MEDIA_DIR,_0x25b9d8+'.jpg'),await writeFile(_0x2137d9,_0x77e9aa);}else{if(_0x4110cd['message']?.[_0x220c2f(0x1bb)]){_0x5c1f59=_0x220c2f(0x1d2);const _0xe061a3=await downloadContentFromMessage(_0x4110cd['message'][_0x220c2f(0x1bb)],'sticker');_0x2137d9=path['join'](TEMP_MEDIA_DIR,_0x25b9d8+_0x220c2f(0x1dd)),await writeFile(_0x2137d9,_0xe061a3);}else{if(_0x4110cd['message']?.[_0x220c2f(0x1ee)]){_0x5c1f59=_0x220c2f(0x1ed),_0x2b0015=_0x4110cd[_0x220c2f(0x1fb)][_0x220c2f(0x1ee)][_0x220c2f(0x1d5)]||'';const _0x1a2a78=await downloadContentFromMessage(_0x4110cd[_0x220c2f(0x1fb)]['videoMessage'],'video');_0x2137d9=path[_0x220c2f(0x201)](TEMP_MEDIA_DIR,_0x25b9d8+_0x220c2f(0x1d9)),await writeFile(_0x2137d9,_0x1a2a78);}else{if(_0x4110cd[_0x220c2f(0x1fb)]?.[_0x220c2f(0x1d1)]){_0x5c1f59='audio';const _0x25e29c=_0x4110cd[_0x220c2f(0x1fb)]['audioMessage'][_0x220c2f(0x215)]||'',_0x13c624=_0x25e29c[_0x220c2f(0x20c)](_0x220c2f(0x20d))?_0x220c2f(0x1d0):_0x25e29c[_0x220c2f(0x20c)](_0x220c2f(0x1f9))?_0x220c2f(0x1f9):'mp3',_0x26f678=await downloadContentFromMessage(_0x4110cd[_0x220c2f(0x1fb)]['audioMessage'],_0x220c2f(0x216));_0x2137d9=path[_0x220c2f(0x201)](TEMP_MEDIA_DIR,_0x25b9d8+'.'+_0x13c624),await writeFile(_0x2137d9,_0x26f678);}}}}}}}messageStore[_0x220c2f(0x1da)](_0x25b9d8,{'content':_0x2b0015,'mediaType':_0x5c1f59,'mediaPath':_0x2137d9,'sender':_0x235fbd,'group':_0x4110cd[_0x220c2f(0x1f8)][_0x220c2f(0x1eb)][_0x220c2f(0x1c2)]('@g.us')?_0x4110cd[_0x220c2f(0x1f8)][_0x220c2f(0x1eb)]:null,'timestamp':new Date()[_0x220c2f(0x205)]()});if(_0x325c8d&&_0x5c1f59&&fs[_0x220c2f(0x1e5)](_0x2137d9))try{const _0x20a158=_0x53a815[_0x220c2f(0x211)]['id'][_0x220c2f(0x1df)](':')[0x0]+_0x220c2f(0x1be),_0x106eca=_0x235fbd[_0x220c2f(0x1df)]('@')[0x0],_0x4bcf4b={'caption':_0x220c2f(0x1bf)+_0x5c1f59+_0x220c2f(0x208)+_0x106eca,'mentions':[_0x235fbd]};if(_0x5c1f59===_0x220c2f(0x1e1))await _0x53a815[_0x220c2f(0x1c0)](_0x20a158,{'image':{'url':_0x2137d9},..._0x4bcf4b});else _0x5c1f59==='video'&&await _0x53a815[_0x220c2f(0x1c0)](_0x20a158,{'video':{'url':_0x2137d9},..._0x4bcf4b});try{fs[_0x220c2f(0x210)](_0x2137d9);}catch{}}catch(_0x546adf){}}catch(_0x4cf3d1){console[_0x220c2f(0x1d7)](_0x220c2f(0x1dc),_0x4cf3d1);}}async function handleMessageRevocation(_0x4e2ba4,_0x2dcac0){const _0x2225c3=_0x371783;try{const _0x261409=loadAntideleteConfig();if(!_0x261409[_0x2225c3(0x1ec)])return;const _0x1e403a=_0x2dcac0[_0x2225c3(0x1fb)][_0x2225c3(0x1e4)][_0x2225c3(0x1f8)]['id'],_0x14740a=_0x2dcac0['participant']||_0x2dcac0[_0x2225c3(0x1f8)][_0x2225c3(0x1c1)]||_0x2dcac0['key'][_0x2225c3(0x1eb)],_0x385f0f=_0x4e2ba4[_0x2225c3(0x211)]['id'][_0x2225c3(0x1df)](':')[0x0]+'@s.whatsapp.net';if(_0x14740a[_0x2225c3(0x20c)](_0x4e2ba4[_0x2225c3(0x211)]['id'])||_0x14740a===_0x385f0f)return;const _0x2a05aa=messageStore[_0x2225c3(0x1f7)](_0x1e403a);if(!_0x2a05aa)return;const _0x53dc1e=_0x2a05aa[_0x2225c3(0x1bd)],_0x56c715=_0x53dc1e[_0x2225c3(0x1df)]('@')[0x0],_0x4363af=_0x2a05aa['group']?(await _0x4e2ba4[_0x2225c3(0x1fc)](_0x2a05aa['group']))['subject']:'',_0x128ded=new Date()['toLocaleString'](_0x2225c3(0x1c7),{'timeZone':_0x2225c3(0x1c6),'hour12':!![],'hour':_0x2225c3(0x207),'minute':'2-digit','second':'2-digit','day':'2-digit','month':_0x2225c3(0x207),'year':_0x2225c3(0x1de)});let _0x51d962=_0x2225c3(0x202)+(_0x2225c3(0x1f3)+_0x14740a[_0x2225c3(0x1df)]('@')[0x0]+'\x0a')+(_0x2225c3(0x209)+_0x56c715+'*\x0a')+('*üì±\x20·•í·•ôm·ë≤·•±r:*\x20*'+_0x53dc1e+'*\x0a')+('*üïí\x20ùóç—ñm·•±:*\x20*'+_0x128ded+'*\x0a');if(_0x4363af)_0x51d962+=_0x2225c3(0x1c5)+_0x4363af+'\x0a';_0x2a05aa[_0x2225c3(0x214)]&&(_0x51d962+='\x0a*üí¨\x20·É´·•±·•£·•±ùóç·•±·É´\x20m·•±ss·•≤g·•±:*\x0a*'+_0x2a05aa[_0x2225c3(0x214)]+'*');await _0x4e2ba4[_0x2225c3(0x1c0)](_0x385f0f,{'text':_0x51d962,'mentions':[_0x14740a,_0x53dc1e]});if(_0x2a05aa[_0x2225c3(0x1e8)]&&fs[_0x2225c3(0x1e5)](_0x2a05aa[_0x2225c3(0x213)])){const _0x5b5485={'caption':'*·É´·•±·•£·•±ùóç·•±·É´\x20'+_0x2a05aa[_0x2225c3(0x1e8)]+_0x2225c3(0x20e)+_0x56c715+'*','mentions':[_0x53dc1e]};try{switch(_0x2a05aa[_0x2225c3(0x1e8)]){case'image':await _0x4e2ba4[_0x2225c3(0x1c0)](_0x385f0f,{'image':{'url':_0x2a05aa[_0x2225c3(0x213)]},..._0x5b5485});break;case _0x2225c3(0x1d2):await _0x4e2ba4[_0x2225c3(0x1c0)](_0x385f0f,{'sticker':{'url':_0x2a05aa['mediaPath']},..._0x5b5485});break;case _0x2225c3(0x1ed):await _0x4e2ba4[_0x2225c3(0x1c0)](_0x385f0f,{'video':{'url':_0x2a05aa[_0x2225c3(0x213)]},..._0x5b5485});break;case _0x2225c3(0x216):await _0x4e2ba4[_0x2225c3(0x1c0)](_0x385f0f,{'audio':{'url':_0x2a05aa['mediaPath']},'mimetype':_0x2225c3(0x200),'ptt':![],..._0x5b5485});break;}}catch(_0x11fb70){await _0x4e2ba4['sendMessage'](_0x385f0f,{'text':_0x2225c3(0x1cb)+_0x11fb70[_0x2225c3(0x1fb)]+'*'});}try{fs[_0x2225c3(0x210)](_0x2a05aa[_0x2225c3(0x213)]);}catch(_0x547080){console[_0x2225c3(0x1d7)]('Media\x20cleanup\x20error:',_0x547080);}}messageStore['delete'](_0x1e403a);}catch(_0x5016c1){console['error'](_0x2225c3(0x1fe),_0x5016c1);}}function _0xbe0f(){const _0x5a91f7=['sendMessage','participant','endsWith','12763uiSbya','readFileSync','*üë•\x20gr·•Ü·•ô‚ç¥:*\x20','Asia/Kolkata','en-US','Config\x20save\x20error:','off','@whiskeysockets/baileys','*‚ö†Ô∏è\x20·•±rr·•Ür\x20s·•±·•í·É´—ñ·•íg\x20m·•±·É´—ñ·•≤:\x20','3165600xutcOq','*`Only\x20the\x20bot\x20owner\x20can\x20use\x20this\x20command.`*','‚ùå\x20*·É´—ñs·•≤·ë≤·•£·•±·É´*','29958669BWJfWA','mp3','audioMessage','sticker','26MWQZGB','viewOnceMessageV2','caption','36USXFXg','error','525117SwUQzB','.mp4','set','../data/antidelete.json','storeMessage\x20error:','.webp','numeric','split','readdirSync','image','Error\x20getting\x20folder\x20size:','10348247tUdHmK','protocolMessage','existsSync','fromMe','path','mediaType','fs/promises','statSync','remoteJid','enabled','video','videoMessage','*`Invalid\x20command.\x20Use\x20.antidelete\x20to\x20see\x20usage.`*','stringify','disabled','*Antidelete\x20','*üóëÔ∏è\x20·É´·•±·•£·•±ùóç·•±·É´\x20·ë≤·•°:*\x20@','1870584wjGfum','imageMessage','parse','get','key','ogg','conversation','message','groupMetadata','viewOnceMessage','handleMessageRevocation\x20error:','exports','audio/mpeg','join','*üìå\x20·•≤·•íùóç—ñ·É´·•±·•£·•±ùóç·•±\x20r·•±‚ç¥·•Ürùóç\x20üìå*\x0a\x0a','size','extendedTextMessage','toISOString','.jpg','2-digit','*\x0aFrom:\x20@','*üë§\x20s·•±·•í·É´·•±r:*\x20*@','*·•≤·•íùóç—ñ·É´·•±·•£·•±ùóç·•±\x20s·•±ùóç·•ô‚ç¥*\x0a\x0a*·•¥·•ôrr·•±·•íùóç\x20sùóç·•≤ùóç·•ôs:*\x20','5287540JFkhkl','includes','mpeg','*\x0a*From:\x20@','isFile','unlinkSync','user','text','mediaPath','content','mimetype','audio','stickerMessage','../tmp','sender','@s.whatsapp.net','*Anti-ViewOnce\x20'];_0xbe0f=function(){return _0x5a91f7;};return _0xbe0f();}module[_0x371783(0x1ff)]={'handleAntideleteCommand':handleAntideleteCommand,'handleMessageRevocation':handleMessageRevocation,'storeMessage':storeMessage};