const _0x3ff1c6=_0x40ad;(function(_0x14e498,_0x3682b6){const _0x48a8ba=_0x40ad,_0x19a881=_0x14e498();while(!![]){try{const _0x1c5129=-parseInt(_0x48a8ba(0xd4))/0x1+parseInt(_0x48a8ba(0xca))/0x2+parseInt(_0x48a8ba(0xdc))/0x3*(-parseInt(_0x48a8ba(0xc3))/0x4)+parseInt(_0x48a8ba(0xcc))/0x5*(-parseInt(_0x48a8ba(0xef))/0x6)+parseInt(_0x48a8ba(0xf2))/0x7*(-parseInt(_0x48a8ba(0xe3))/0x8)+parseInt(_0x48a8ba(0xee))/0x9*(parseInt(_0x48a8ba(0xe5))/0xa)+-parseInt(_0x48a8ba(0xd9))/0xb*(-parseInt(_0x48a8ba(0xce))/0xc);if(_0x1c5129===_0x3682b6)break;else _0x19a881['push'](_0x19a881['shift']());}catch(_0x1a0dd2){_0x19a881['push'](_0x19a881['shift']());}}}(_0x3226,0xb60a4));const {downloadContentFromMessage}=require(_0x3ff1c6(0xf1)),fs=require('fs'),path=require(_0x3ff1c6(0xd3)),{UploadFileUgu,TelegraPh}=require(_0x3ff1c6(0xdf));async function getMediaBufferAndExt(_0x4f524a){const _0xcb4322=_0x3ff1c6,_0x21c88a=_0x4f524a[_0xcb4322(0xd8)]||{};if(_0x21c88a[_0xcb4322(0xe0)]){const _0x33b6e2=await downloadContentFromMessage(_0x21c88a['imageMessage'],_0xcb4322(0xc8)),_0x513e78=[];for await(const _0x11cbe9 of _0x33b6e2)_0x513e78[_0xcb4322(0xe4)](_0x11cbe9);return{'buffer':Buffer[_0xcb4322(0xeb)](_0x513e78),'ext':'.jpg'};}if(_0x21c88a[_0xcb4322(0xe6)]){const _0x471f10=await downloadContentFromMessage(_0x21c88a[_0xcb4322(0xe6)],_0xcb4322(0xcb)),_0x1ff0fe=[];for await(const _0x315b69 of _0x471f10)_0x1ff0fe['push'](_0x315b69);return{'buffer':Buffer['concat'](_0x1ff0fe),'ext':_0xcb4322(0xc2)};}if(_0x21c88a['audioMessage']){const _0x2b5790=await downloadContentFromMessage(_0x21c88a[_0xcb4322(0xda)],_0xcb4322(0xea)),_0x5442f3=[];for await(const _0x4bd0c4 of _0x2b5790)_0x5442f3[_0xcb4322(0xe4)](_0x4bd0c4);return{'buffer':Buffer['concat'](_0x5442f3),'ext':'.mp3'};}if(_0x21c88a[_0xcb4322(0xd6)]){const _0x226124=await downloadContentFromMessage(_0x21c88a[_0xcb4322(0xd6)],_0xcb4322(0xc4)),_0x4cc614=[];for await(const _0xf2baa7 of _0x226124)_0x4cc614['push'](_0xf2baa7);const _0x1976ca=_0x21c88a['documentMessage'][_0xcb4322(0xd2)]||_0xcb4322(0xd7),_0x10fa57=path[_0xcb4322(0xcf)](_0x1976ca)||'.bin';return{'buffer':Buffer['concat'](_0x4cc614),'ext':_0x10fa57};}if(_0x21c88a['stickerMessage']){const _0x4ae5b4=await downloadContentFromMessage(_0x21c88a['stickerMessage'],_0xcb4322(0xf3)),_0xdd6d79=[];for await(const _0xe8c1c8 of _0x4ae5b4)_0xdd6d79[_0xcb4322(0xe4)](_0xe8c1c8);return{'buffer':Buffer['concat'](_0xdd6d79),'ext':_0xcb4322(0xd5)};}return null;}async function getQuotedMediaBufferAndExt(_0x11de2e){const _0x5a2bb9=_0x3ff1c6,_0xa266c6=_0x11de2e['message']?.[_0x5a2bb9(0xe9)]?.['contextInfo']?.[_0x5a2bb9(0xc9)]||null;if(!_0xa266c6)return null;return getMediaBufferAndExt({'message':_0xa266c6});}async function urlCommand(_0x3b8c71,_0x46ab2f,_0x31cc70){const _0x1c7339=_0x3ff1c6;try{let _0x4a8227=await getMediaBufferAndExt(_0x31cc70);if(!_0x4a8227)_0x4a8227=await getQuotedMediaBufferAndExt(_0x31cc70);if(!_0x4a8227){await _0x3b8c71[_0x1c7339(0xe8)](_0x46ab2f,{'text':'*`Send\x20or\x20reply\x20to\x20a\x20media\x20(image,\x20video,\x20audio,\x20sticker,\x20document)\x20to\x20get\x20a\x20URL*`.'},{'quoted':_0x31cc70});return;}const _0x50d12a=path[_0x1c7339(0xc7)](__dirname,_0x1c7339(0xf4));if(!fs[_0x1c7339(0xf0)](_0x50d12a))fs[_0x1c7339(0xc5)](_0x50d12a,{'recursive':!![]});const _0x2e716b=path[_0x1c7339(0xc7)](_0x50d12a,''+Date[_0x1c7339(0xd0)]()+_0x4a8227['ext']);fs[_0x1c7339(0xdb)](_0x2e716b,_0x4a8227[_0x1c7339(0xcd)]);let _0x5460cc='';try{if(_0x4a8227[_0x1c7339(0xd1)]==='.jpg'||_0x4a8227[_0x1c7339(0xd1)]===_0x1c7339(0xec)||_0x4a8227['ext']===_0x1c7339(0xd5))try{_0x5460cc=await TelegraPh(_0x2e716b);}catch{const _0x7e5acc=await UploadFileUgu(_0x2e716b);_0x5460cc=typeof _0x7e5acc==='string'?_0x7e5acc:_0x7e5acc['url']||_0x7e5acc[_0x1c7339(0xdd)]||JSON[_0x1c7339(0xe1)](_0x7e5acc);}else{const _0x46ab8e=await UploadFileUgu(_0x2e716b);_0x5460cc=typeof _0x46ab8e==='string'?_0x46ab8e:_0x46ab8e[_0x1c7339(0xe2)]||_0x46ab8e['url_full']||JSON[_0x1c7339(0xe1)](_0x46ab8e);}}finally{setTimeout(()=>{const _0x497c4b=_0x1c7339;try{if(fs[_0x497c4b(0xf0)](_0x2e716b))fs[_0x497c4b(0xc6)](_0x2e716b);}catch{}},0x7d0);}if(!_0x5460cc){await _0x3b8c71[_0x1c7339(0xe8)](_0x46ab2f,{'text':_0x1c7339(0xde)},{'quoted':_0x31cc70});return;}await _0x3b8c71[_0x1c7339(0xe8)](_0x46ab2f,{'text':_0x1c7339(0xe7)+_0x5460cc},{'quoted':_0x31cc70});}catch(_0x28cc7c){console[_0x1c7339(0xed)]('[URL]\x20error:',_0x28cc7c?.[_0x1c7339(0xd8)]||_0x28cc7c),await _0x3b8c71['sendMessage'](_0x46ab2f,{'text':'*`Failed\x20to\x20convert\x20media\x20to\x20URL.`*'},{'quoted':_0x31cc70});}}function _0x40ad(_0x57afeb,_0x114ae9){const _0x32265a=_0x3226();return _0x40ad=function(_0x40adf6,_0x2084d0){_0x40adf6=_0x40adf6-0xc2;let _0x36c640=_0x32265a[_0x40adf6];return _0x36c640;},_0x40ad(_0x57afeb,_0x114ae9);}module['exports']=urlCommand;function _0x3226(){const _0x5d2053=['unlinkSync','join','image','quotedMessage','624642aPdAVA','video','100025ZdLhAy','buffer','210396LiwydH','extname','now','ext','fileName','path','236489WqchlZ','.webp','documentMessage','file.bin','message','946bHrrck','audioMessage','writeFileSync','3NvWjFD','url_full','*`Failed\x20to\x20upload\x20media`*.','../lib/uploader','imageMessage','stringify','url','4253016mChyag','push','1370VgWqXC','videoMessage','URL:\x20','sendMessage','extendedTextMessage','audio','concat','.png','error','72000iMUOnq','12awAwhU','existsSync','@whiskeysockets/baileys','7unTaCA','sticker','../temp','.mp4','5449588zfhTHH','document','mkdirSync'];_0x3226=function(){return _0x5d2053;};return _0x3226();}